<html>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
          <script type="text/javascript">
       function onBodyLoaded() {
           function toggleInert(disabled) {
               let bodyElem = document.getElementById("body-content");
               if(bodyElem) {
                   bodyElem.inert = disabled;
               }
           }
 
           // Add hooks to toggle inert on our page when Embedded Chat
           // changes state.
           function addA11yHooks() {
               embedded_svc.addEventHandler('afterMaximize', function(data) {
                   toggleInert(true);
               });
               embedded_svc.addEventHandler('afterDestroy', function(data) {
                   toggleInert(false);
               });
               embedded_svc.addEventHandler('afterMinimize', function(data) {
                   toggleInert(false);
               });
           }
 
           // Early out for desktop.
           if(embedded_svc.isDesktop()) {
               return;
           }
 
           // Add hooks for mobile.
           addA11yHooks();
       }
   </script>
          <div id="body-content">
            <h1>Welcome to the Online support page!</h1>
            <style type="text/css">
           .embeddedServiceHelpButton .helpButton .uiButton {
              background-color: #FFCC01;
              font-family: "Arial", sans-serif;
           }
           .embeddedServiceHelpButton .helpButton .uiButton:focus {
              outline: 1px solid #FFCC01;
           }
           .embeddedServiceSidebarFormField.inputSplitName {
              display: none !important;
           }
           .previews img {
               max-width: 100%;
               border-radius: 10px;
           }
           .chat-content a {
               color: #fff;
           }
       </style>
          </div>
          <style type="text/css">
    
</style>
          <script type="text/javascript" src="https://service.force.com/embeddedservice/5.0/esw.min.js"></script>
          <script type="text/javascript">
    var initESW = function(gslbBaseURL) {
        embedded_svc.settings.displayHelpButton = true; //Or false
        embedded_svc.settings.language = ''; //For example, enter 'en' or 'en-US'

        //embedded_svc.settings.defaultMinimizedText = '...'; //(Defaults to Chat with an Expert)
        //embedded_svc.settings.disabledMinimizedText = '...'; //(Defaults to Agent Offline)

        //embedded_svc.settings.loadingText = ''; //(Defaults to Loading)
        //embedded_svc.settings.storageDomain = 'yourdomain.com'; //(Sets the domain for your deployment so that visitors can navigate subdomains during a chat session)

        // Settings for Chat
        //embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
            // Dynamically changes the button ID based on what the visitor enters in the pre-chat form.
            // Returns a valid button ID.
        //};
         embedded_svc.settings.prepopulatedPrechatFields = {
            FirstName : "Gost",
            LastName : "Lastname",
            Email : "",
            Subject : "Live agent",
            AdmiralBetID__c : "Uname" };
        //embedded_svc.settings.fallbackRouting = []; //An array of button IDs, user IDs, or userId_buttonId
        //embedded_svc.settings.offlineSupportMinimizedText = '...'; //(Defaults to Contact Us)

        embedded_svc.settings.enabledFeatures = ['LiveAgent'];
        embedded_svc.settings.entryFeature = 'LiveAgent';
        embedded_svc.settings.extraPrechatInfo = [{
            "entityFieldMaps": [{
                "doCreate": true,
                "doFind": true,
                "fieldName": "LastName",
                "isExactMatch": true,
                "label": "Last Name"
            }, {
                "doCreate": true,
                "doFind": true,
                "fieldName": "FirstName",
                "isExactMatch": true,
                "label": "First Name"
            }, {
                "doCreate": true,
                "doFind": true,
                "fieldName": "Email",
                "isExactMatch": true,
                "label": "Email"
            }],
            "entityName": "Contact",
            "showOnCreate": false
        }];
        
        embedded_svc.addEventHandler('afterMaximize', function()  {
           let hide = document.getElementsByClassName('offlineSupportUI').length !== 1;
           if (hide) {
             document.getElementById('Subject').parentElement.parentElement.style.display = 'none';
             document.getElementById('AdmiralBetID__c').parentElement.parentElement.style.display = 'none';
           }
        });
        
        embedded_svc.init(
            'https://admiralbet--devsb.sandbox.my.salesforce.com',
            'https://admiralbet--devsb.sandbox.my.salesforce-sites.com/AdmiralExternalChat',
            gslbBaseURL,
            '00D8E0000009f2D',
            'AdmiralOnlineChat',
            {
                baseLiveAgentContentURL: 'https://c.la1-c1cs-lo3.salesforceliveagent.com/content',
                deploymentId: '5728E0000008Oi3',
                buttonId: '5738E0000008OoU',
                baseLiveAgentURL: 'https://d.la1-c1cs-lo3.salesforceliveagent.com/chat',
                eswLiveAgentDevName: 'AdmiralExternalChat',
                isOfflineSupportEnabled: true
            }
        );
    };

    if (!window.embedded_svc) {
        var s = document.createElement('script');
        s.setAttribute('src', 'https://admiralbet--devsb.sandbox.my.salesforce.com/embeddedservice/5.0/esw.min.js');
        s.onload = function() {
            initESW(null);
        };
        document.body.appendChild(s);
    } else {
        initESW('https://service.force.com');
    }
</script>
</html>